<!DOCTYPE html>
<html>
  <head>
    <title>Career Months Game</title>
    <style>
     canvas {
         border: 1px solid black;
     }
     body {
         display: flex;
         flex-direction: column;
         align-items: center;
         font-family: Arial, sans-serif;
     }
     #restart {
         margin: 10px;
         padding: 5px 15px;
         font-size: 16px;
     }
    </style>
  </head>
  <body>
    <h2>Career Months Game</h2>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <button id="restart">Restart Game</button>

    <script>
     const canvas = document.getElementById("gameCanvas");
     const ctx = canvas.getContext("2d");
     const size = 4;
     const tileSize = 100;
     const board = Array(size).fill().map(() => Array(size).fill(0));
     const colors = {
       0: "#ccc0b3", 15: "#eee4da", 30: "#ede0c8", 60: "#f2b179",
       120: "#f59563", 240: "#f67c5f", 480: "#f65e3b"
     };
     let animating = false;

     function drawBoard() {
       ctx.clearRect(0, 0, canvas.width, canvas.height);
       for (let r = 0; r < size; r++) {
         for (let c = 0; c < size; c++) {
           drawTile(r, c, board[r][c]);
         }
       }
     }

     function drawTile(row, col, value) {
       ctx.fillStyle = colors[value] || "#3c3a32";
       ctx.fillRect(col * tileSize, row * tileSize, tileSize - 5, tileSize - 5);
       if (value) {
         ctx.fillStyle = "#776e65";
         ctx.font = "bold 30px Arial";
         ctx.textAlign = "center";
         ctx.fillText(value, col * tileSize + tileSize / 2, row * tileSize + tileSize / 2 + 10);
       }
     }

     function spawnTile() {
       let empty = [];
       for (let r = 0; r < size; r++) {
         for (let c = 0; c < size; c++) {
           if (board[r][c] === 0) empty.push([r, c]);
         }
       }
       if (empty.length > 0) {
         let [r, c] = empty[Math.floor(Math.random() * empty.length)];
         board[r][c] = 15;
       }
     }

     function slideRow(row) {
       let arr = row.filter(v => v);
       for (let i = 0; i < arr.length - 1; i++) {
         if (arr[i] === arr[i + 1] && arr[i] !== 480) {
           arr[i] *= 2;
           arr.splice(i + 1, 1);
         }
       }
       while (arr.length < size) arr.push(0);
       return arr;
     }

     function move(direction) {
       let moved = false;
       for (let i = 0; i < size; i++) {
         let row = direction === "left" ? board[i] : [...board[i]].reverse();
         let newRow = slideRow(row);
         if (JSON.stringify(newRow) !== JSON.stringify(row)) moved = true;
         board[i] = direction === "left" ? newRow : newRow.reverse();
       }
       if (moved) spawnTile();
       drawBoard();
     }

     document.addEventListener("keydown", (e) => {
       if (animating) return;
       if (e.key === "ArrowLeft") move("left");
       if (e.key === "ArrowRight") move("right");
     });

     spawnTile();
     drawBoard();
    </script>
  </body>
</html>
